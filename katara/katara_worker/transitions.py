from katara.katara_worker.consts import TaskState
from katara.katara_worker.tasks import (
    SetStarted,
    SetGettingScopes,
    GetScopes,
    SetGettingRecipients,
    GetRecipients,
    SetGeneratingReportData,
    CheckingEmployeeEmailSettings,
    GenerateReportData,
    SetPuttingToHerald,
    PutToHerald
)


TASKS_TRANSITIONS = {
    TaskState.CREATED: SetStarted,
    TaskState.STARTED: SetGettingScopes,
    TaskState.GETTING_SCOPES: GetScopes,
    TaskState.GOT_SCOPES: SetGettingRecipients,
    TaskState.GETTING_RECIPIENTS: GetRecipients,
    TaskState.GOT_RECIPIENTS: SetGeneratingReportData,
    TaskState.CHECKING_EMAIL_SETTINGS: CheckingEmployeeEmailSettings,
    TaskState.GENERATING_DATA: GenerateReportData,
    TaskState.GENERATED_DATA: SetPuttingToHerald,
    TaskState.PUTTING_TO_HERALD: PutToHerald
}
